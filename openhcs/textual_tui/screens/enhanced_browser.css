/* Enhanced file browser CSS using proper Textual layout */

EnhancedFileBrowserScreen {
    align: center middle;
    background: $background 60%;
}

EnhancedFileBrowserScreen #dialog_container {
    background: $surface;
    padding: 0;
    height: 90vh;
}

/* Path display integrated into tree border */
#path_display {
    color: $text-muted;
    text-style: italic;
    height: auto;
    margin-top: 0;
    margin-bottom: 0;
    visibility: hidden;
}

/* Tree panel expands to fill all available space */
#tree_panel {
    height: 1fr;
    width: 100%;
}

/* OpenHCSDirectoryTree fills its container */
OpenHCSDirectoryTree {
    height: 100%;
    width: 100%;
    border: solid $primary;
    border-title-align: left;
    border-title-style: italic;
    border-title-color: $text-muted;
}

/* Bottom area only takes space needed for its content */
#bottom_area {
    height: auto;
    width: 100%;
}

/* Buttons panel takes minimal width and left-aligned */
#buttons_panel {
    width: auto;
    height: auto;
    text-align: left;
}

#buttons_panel Button {
    width: 16;
    height: 1;
    margin-bottom: 0;
}

#buttons_panel Checkbox {
    width: 16;
    height: 1;
    margin-bottom: 0;
}

/* Selection panel takes remaining horizontal space */
#selection_panel {
    width: 1fr;
    height: auto;
    max-height: 8;
    border: solid $primary;
    border-title-align: left;
    border-title-style: italic;
    border-title-color: $text-muted;
    padding: 0 1;
}

/* Selected list with fixed height and scrolling */
#selected_list {
    height: 5;
    overflow-y: auto;
}

/* Save info panel with same height as selected list */
#save_info {
    height: 5;
    overflow-y: auto;
}

#selected_display {
    width: 100%;
}

/* Override floating window title for compact display */
EnhancedFileBrowserScreen .dialog-title {
    text-style: bold;
    text-align: center;
    margin-bottom: 0;
    padding: 0;
}

/* Filename area for save mode - horizontal layout */
#filename_area {
    height: auto;
    width: 100%;
    margin-bottom: 0;
}

.filename-label {
    width: auto;
    height: 1;
    margin-right: 1;
    text-align: right;
}

#filename_input {
    height: 1;
    width: 1fr;
}